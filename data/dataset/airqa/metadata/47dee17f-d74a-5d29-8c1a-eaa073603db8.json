{
    "uuid": "47dee17f-d74a-5d29-8c1a-eaa073603db8",
    "title": "Disentangling Length from Quality in Direct Preference Optimization",
    "conference_full": "Annual Meeting of the Association for Computational Linguistics",
    "conference": "ACL",
    "year": 2024,
    "volume": "Findings of the Association for Computational Linguistics: ACL 2024",
    "bibtex": "@inproceedings{park-etal-2024-disentangling,\n    title = \"Disentangling Length from Quality in Direct Preference Optimization\",\n    author = \"Park, Ryan  and\n      Rafailov, Rafael  and\n      Ermon, Stefano  and\n      Finn, Chelsea\",\n    editor = \"Ku, Lun-Wei  and\n      Martins, Andre  and\n      Srikumar, Vivek\",\n    booktitle = \"Findings of the Association for Computational Linguistics: ACL 2024\",\n    month = aug,\n    year = \"2024\",\n    address = \"Bangkok, Thailand\",\n    publisher = \"Association for Computational Linguistics\",\n    url = \"https://aclanthology.org/2024.findings-acl.297\",\n    doi = \"10.18653/v1/2024.findings-acl.297\",\n    pages = \"4998--5017\",\n    abstract = \"Reinforcement Learning from Human Feedback (RLHF) has been a crucial component in the recent success of Large Language Models. However, RLHF is know to exploit biases in human preferences, such as verbosity. A well-formatted and eloquent answer is often more highly rated by users, even when it is less helpful and objective. A number of approaches have been developed to control those biases in the classical RLHF literature, but the problem remains relatively under-explored for Direct Alignment Algorithms such as Direct Preference Optimization (DPO). Unlike classical RLHF, DPO does not train a separate reward model or use reinforcement learning directly, so previous approaches developed to control verbosity cannot be directly applied to this setting. Our work makes several contributions. For the first time, we study the length problem in the DPO setting, showing significant exploitation in DPO and linking it to out-of-distribution bootstrapping. We then develop a principled but simple regularization strategy that prevents length exploitation, while still maintaining improvements in model quality. We demonstrate these affects across datasets on summarization and dialogue, where we achieve up to 20{\\%} improvement in win rates when controlling for length, despite the GPT4 judge{'}s well-known verbosity bias.\",\n}\n",
    "authors": [
        "Ryan Park",
        "Rafael Rafailov",
        "Stefano Ermon",
        "Chelsea Finn"
    ],
    "pdf_url": "https://aclanthology.org/2024.findings-acl.297.pdf",
    "pdf_path": "data/dataset/airqa/papers/acl2024/47dee17f-d74a-5d29-8c1a-eaa073603db8.pdf",
    "abstract": "Reinforcement Learning from Human Feedback (RLHF) has been a crucial component in the recent success of Large Language Models. However, RLHF is know to exploit biases in human preferences, such as verbosity. A well-formatted and eloquent answer is often more highly rated by users, even when it is less helpful and objective. A number of approaches have been developed to control those biases in the classical RLHF literature, but the problem remains relatively under-explored for Direct Alignment Algorithms such as Direct Preference Optimization (DPO). Unlike classical RLHF, DPO does not train a separate reward model or use reinforcement learning directly, so previous approaches developed to control verbosity cannot be directly applied to this setting. Our work makes several contributions. For the first time, we study the length problem in the DPO setting, showing significant exploitation in DPO and linking it to out-of-distribution bootstrapping. We then develop a principled but simple regularization strategy that prevents length exploitation, while still maintaining improvements in model quality. We demonstrate these affects across datasets on summarization and dialogue, where we achieve up to 20% improvement in win rates when controlling for length, despite the GPT4 judgeâ€™s well-known verbosity bias.",
    "num_pages": 20
}