# PDF-based Question Answering on Artificial Intelligence Research Papers (AIR-QA)

## Folder Structure

```txt
- data/dataset/airqa/ # root folder
    - test_data.jsonl # JSON line file where each line represents one test data
    - data_format.json.template # template file for each data point
    - papers/ # stores all PDF files of papers, organized by lowercase {conference}{year} sub-folder and renamed by paper UUIDs
        - acl2024/
            - 0a1e5410-f9f1-5877-ae3a-151c214762e1.pdf
            - ...
        - acl2023/
            - ...
        ...
    - processed_data/ # folder used to store pre-processed result for each PDF file, e.g., chunked sections or LLM-generated page summaries
        - 0a1e5410-f9f1-5877-ae3a-151c214762e1.json
        - ...
    - metadata/ # folder used to store paper metadata
        - 0a1e5410-f9f1-5877-ae3a-151c214762e1.json
        - ...
    - examples/ # during annotation, each data is stored as a separate file ${question_uuid}.json following `data_format.json.template`
        - 0dadc5c6-a5f7-572b-9a20-fc9b907eddb9.json
        - ...
```


## AIR-QA Tags

This section describes different question categories (or tags) for classification.

### Category 1: Task Goals

- `single`: ask technical details of one single paper, e.g.,
    - list 3 major contributions of this work
- `multiple`: involve multiple papers, may require comparison, calculation, aggregation and multi-step reasoning, e.g.,
    - which agent framework performs better on a popular benchmark
- `retrieval`: retrieve papers with constraints, e.g.,
    - papers published by a specific author or institute
- `comprehensive`: if the task does not belong to any category above or requires integration of multiple task types, e.g.,
    - for papers including experiments on a specific benchmark in neurips 2023, what's the top performance


### Category 2: Key Capabilities

- `text`: Q&A that focuses on text understanding and reasoning
- `table`: Q&A that requires identifying tables and their contents
- `image`: Q&A that involves the recognition of figures, charts, or graphs
- `formula`: Q&A that queries the details of math formulas
- `metadata`: metadata includes authors, institutes, e-mails, conferences, years and other information that does not appear in the main text (e.g., page header and footer)


### Category 3: Evaluation Types

- `subjective`: answers that require LLM or model-based evaluation
- `objective`: answers that can be evaluated with objective metrics


### Category 4: Hardness Level

TODO: this category will be automatically determined by the number of reasoning steps in the annotated `.json` data (field `reasoning_steps`). Annotators only need to write the `reasoning_steps`.
- `easy`
- `medium`
- `hard`
- `extra`


### Paper Metadata Format

This is also the first function that will be invoked in the PDF pipeline function when populating database content.
```python
from utils.functions import get_ai_research_metadata
output_json = get_ai_research_metadata(input_pdf)
```

- input_pdf:
    - pdf_path/download_url/paper_title/paper_uuid (str)
- output_json:
    - metadata_dict (Dict[str, Any]): the output dict has the following fields

```json
{
    "uuid": "0a02b881-d0b1-59c6-a23e-1feb3bdf4c24", // UUID generated by `get_airqa_paper_uuid`
    "title": "Quantized Side Tuning: Fast and Memory-Efficient Tuning of Quantized Large Language Models", // paper title
    "conference_full": "Annual Meeting of the Association for Computational Linguistics (2024)", // full title of the conference
    "conference": "ACL", // conference abbreviation
    "year": 2024, // conference year, or which year is this paper published
    "volume": "Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)", // volume title
    "bibtex": "...", // bibtex citation text
    "authors": ["Zhengxin Zhang", "Dan Zhao", "Xupeng Miao", ...], // authors list
    "num_pages": 36, // int value
    "pdf_url": "https://aclanthology.org/2024.acl-long.1.pdf", // URL to download the PDF, should end with .pdf
    "pdf_path": "data/dataset/airqa/papers/acl2024/ab14a93a-c5ee-5d60-8713-8b38bd501140.pdf", // local path to save the PDF, rename it with the UUID
    "abstract": "...", // paper abstract text
    "tldr": "...", // TLDR
    "tags": ["llm", "agent"] // keywords or tags
}
```